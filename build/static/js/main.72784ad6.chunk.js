(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(40)},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(11),u=n.n(l),c=n(12),i=n(2),r=function(e){return o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("input",{onChange:e.handleFilterChange})))},m=function(e){return o.a.createElement("form",{onSubmit:e.addName},o.a.createElement("div",null,"nimi: ",o.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),o.a.createElement("div",null,"numero: ",o.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},s=n(3),f=n.n(s),d="/api/persons",g=function(){return f.a.get(d)},h=function(e){return f.a.post(d,e)},v=function(e){return f.a.delete("".concat(d,"/").concat(e))},b=function(e,t){return f.a.put("".concat(d,"/").concat(e),t).then(function(e){return e.data})},E=(n(38),function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)(""),s=Object(i.a)(u,2),f=s[0],d=s[1],E=Object(a.useState)(""),p=Object(i.a)(E,2),j=p[0],w=p[1],k=Object(a.useState)(""),C=Object(i.a)(k,2),N=C[0],O=C[1],x=Object(a.useState)({text:null}),y=Object(i.a)(x,2),S=y[0],H=y[1];Object(a.useEffect)(function(){g().then(function(e){l(e.data)})},[]);var L=N?n.filter(function(e){return e.name.toLowerCase().includes(N.toLowerCase())}):n;return o.a.createElement("div",null,o.a.createElement("h2",null,"Puhelinluettelo"),o.a.createElement(function(e){return null===e.message.text?null:o.a.createElement("div",{className:e.message.style},e.message.text)},{message:S}),o.a.createElement("div",null,"Rajaa n\xe4ytett\xe4vi\xe4:",o.a.createElement(r,{handleFilterChange:function(e){console.log(e.target.value),O(e.target.value)}})),o.a.createElement("h3",null," Lis\xe4\xe4 uusi "),o.a.createElement(m,{addName:function(e){e.preventDefault();var t=!0;n.forEach(function(e){f===e.name&&(t=!1)});var a=n.filter(function(e){return e.name===f});if(!1===t){var o=Object(c.a)({},a,{number:j});console.log("henkil\xf6",o),window.confirm("".concat(f," on jo luettelossa, korvataanko vanha numero uudella?"))&&(console.log("korvataan"),b(o.id,o).then(function(e){l(n.map(function(t){return t.id!==o.id?t:e})),console.log(o.name)}),console.log("done").catch(function(e){H({text:"Henkil\xf6 ".concat(o.name," on jo poistettu listalta"),style:"error"}),setTimeout(function(){H({text:null})},5e3)}),console.log("viel\xe4 sujuu"),H({text:"Henkil\xf6n ".concat(o.name," p\xe4ivitys onnistui"),style:"notification"}),setTimeout(function(){H({text:null})},5e3)),d(""),w("")}else H({text:"Henkil\xf6 ".concat(f," lis\xe4ttiin luetteloon"),style:"notification"}),setTimeout(function(){H({text:null})},5e3),h({name:f,number:j}).then(function(e){l(n.concat(e.data)),d(""),w("")})},newName:f,handleNameChange:function(e){console.log(e.target.value),d(e.target.value)},newNumber:j,handleNumberChange:function(e){console.log(e.target.value),w(e.target.value)}}),o.a.createElement("h2",null,"Numerot"),L.map(function(e){return o.a.createElement("div",{key:e.name},e.name," ",e.number,o.a.createElement("button",{onClick:function(){return function(e){window.confirm("Poisetaanko ".concat(e.name))&&(H({text:"Henkil\xf6 ".concat(e.name," poistettiin listalta"),style:"error"}),v(e.id).then(function(t){l(n.filter(function(t){return t.id!==e.id}))}))}(e)}},"poista "))}))});u.a.render(o.a.createElement(E,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.72784ad6.chunk.js.map